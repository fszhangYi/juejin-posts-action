##
# Publish new action tag(s) for downstream consumption
##
name: Publish

# Manual or automatic release
on:
  release:
    types: [published]

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      # step 1. è·å–æºç 
      - name: Chekcout ğŸ›ï¸             # æ­¥éª¤å
        uses: actions/checkout@master # ä½¿ç”¨æ’ä»¶å => https://github.com/actions/checkout

      # step 2. å®‰è£…æŒ‡å®š node
      - name: Use Node  ğŸ“¦              # æ­¥éª¤å
        uses: actions/setup-node@master # ä½¿ç”¨æ’ä»¶å => https://github.com/actions/setup-node
        with: # æ’ä»¶æºå¸¦å‚æ•°
          node-version: '18' # æŒ‡å®š node ç‰ˆæœ¬

      # Compile dist/index.js and bundle with action.yml
      # Force push major and minor tags, e.g. v1, v1.0
      # See documentation: https://github.com/JasonEtco/build-and-tag-action
      - uses: JasonEtco/build-and-tag-action@v2
        env:
          GITHUB_TOKEN: ${{ github.token }}
